<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
	<title>CSSS: A brief introduction</title>
	
	<link href="slideshow.css" rel="stylesheet" />
	<link href="theme.css" rel="stylesheet" />
	<link href="talk.css" rel="stylesheet" />
	<script src="prefixfree.min.js"></script>
</head>
<body data-duration="10">

<header id="intro" class="slide">
	<h1>
		<span>Dependency management in Node</span><br/>
		David is watching
	</h1>
	<p class="attribution">By Alan Shaw</p>
</header>
<section>
	<header class="slide">
		<h1>Introduction</h1>
	</header>
	
	<section class="slide">
		<h2>What is David?</h2>
		<ul class="delayed">
			<li>Freaky</li>
			<li>Hipster</li>
			<li>Geek</li>
		</ul>
		<p class="delayed">A service that helps you keep your project dependencies up to date.</p>
		<p class="delayed">A Node module, CLI tool and website.</p>
	</section>
</section>
<section>
	
	<header class="slide">
		<h1>Node Module</h1>
	</header>
	
	<section class="slide">
		<h2>Node Module</h2>
		<p>David inspects dependencies (or devDependencies) and figures out what is out of date.</p>
		<p class="delayed">You can get:</p>
		<ol>
			<li class="delayed">A list of all dependencies in your project</li>
			<li class="delayed">A list of updated dependencies in your project</li>
			<li class="delayed">A list of updated STABLE dependencies in your project</li>
		</ol>
		<p class="delayed">Repeat for devDependencies.</p>
		<p class="delayed">For each dependency, david tells you:</p>
		<ol>
			<li class="delayed">The latest version</li>
			<li class="delayed">The latest STABLE version</li>
			<li class="delayed">The semver version or range your project currently requires</li>
		</ol>
	</section>
	
	<section class="slide">
		<h2>Some code</h2>
		<pre><code lang="javascript">
var david = require("david");
var manifest = {/* Your package.json */};

david.getUpdatedDependencies(manifest, {dev: false, stable: true}, function(err, deps) {
	console.log('dependencies with newer STABLE versions for', manifest.name);
	console.log(deps);
});

// Example output:
// dependencies with newer STABLE versions for aaa
// {
//   foo: {required: "~0.3.4", stable: "0.4.0", latest: "0.5.0-pre"},
//   bar: {required: "~1.0.0", stable: "1.2.0", latest: "1.2.0"}
// }
		</code></pre>
	</section>
	
</section>

<section>
	<header class="slide">
		<h1>CLI</h1>
	</header>
	
	<section class="slide">
		<h2>CLI</h2>
		<p>Install david globally <code>npm install david -g</code></p>
	</section>
	
	<section id="slide-cli-img" class="slide centred">
		<img src="img/david-cli.png"/>
	</section>
</section>

<section>
	
	<header class="slide">
		<h1>Website</h1>
	</header>
	
	<section class="slide">
		<h2>Website</h2>
		<p>Uses <a href="http://expressjs.com/">expressjs</a>, built using <a href="http://gruntjs.com/">grunt</a>, <a href="https://github.com/caolan/nodeunit">nodeunit</a> for tests. Help from <a href="http://d3js.org/">d3</a> for data visualisations.</p>
		<ul>
			<li class="delayed"><a href="https://david-dm.org/">https://david-dm.org</a></li>
			<li class="delayed">Scrape your GitHub package.json. Show you some prettys.</li>
			<li class="delayed">Embeddable status badges!!!!!1</li>
		</ul>
	</section>
	
	<section class="slide centred">
		<img src="img/jam.png"/>
	</section>
	
	<section class="slide centred">
		<img src="img/jam-tree.png"/>
	</section>

</section>
<section>
	
	<header class="slide">
		<h1>Semantic Versioning</h1>
	</header>
	
	<section class="slide">
		<h2>semver</h2>
		<p>semver is the version standard.</p>
		<p class="delayed">NPM uses semver. NPM allows you to specify version ranges. This is fantastic!</p>
		<p class="delayed"><code>~1.0.2</code></p>
		<p class="delayed">This is shorthand for <code>>= 1.0.2 < 1.1.0</code></p>
		<p class="delayed">
			It is saying: If the major or minor version increases then I need to retest my code to check it works on the new version, so don’t depend on that. Although, if there are bug fixes, I want them, and whilst I understand that a bugfix release could break my software, it isn’t meant to, so I’m willing to take the gamble.
			<br/><br/>
			<a href="http://semver.org/">http://semver.org</a><br/>
			<a href="https://npmjs.org/doc/json.html#Tilde-Version-Ranges">https://npmjs.org/doc/json.html#Tilde-Version-Ranges</a>
		</p>
	</section>
	
	<section class="slide">
		<h2>Out of date?</h2>
		<ul>
			<li class="delayed">Newer STABLE versions</li>
			<li class="delayed">
				Newer non-stable is NOT out of date<br/>
				e.g. required: ~0.5.0, stable: 0.5.8, latest: 0.6.0-pre
			</li>
			<li class="delayed">Pinned dependencies might not be out of date.</li>
		</ul>
		<p class="delayed">...what?</p>
		
		<p class="delayed emphasis">Absolute versions, repositories or tags.</p>
		
		<p class="delayed">I’ve seen a lot of absolute versions for dependencies, which is fine (you know who you are, you have your reasons), but I also see a lot of reckless version ranges: <code>&gt;= 0.3.14</code>, <code>*</code>, <code>latest</code> which are just mad. How can you possibly know your code will still work as your dependencies transition between major and minor version numbers?</p>
	</section>
	
	<section class="slide centred">
		<img src="img/crazies.png"/>
	</section>
	
	<section class="slide">
		<h2>Drawbacks</h2>
		<ul>
			<li>Only supports modern browsers. Why?
				<ul>
					<li>More lightweight</li>
					<li>Easier to understand code</li>	
					<li>It's a presentation, so the environment is controlled anyway</li>
				</ul>
			</li>
			<li>No mouse click to advance to the next slide. I consider it annoying.</li>
			<li>Doesn't work in mobile :(</li>
		</ul>
	</section>
</section>

<section>
	<header class="slide">
		<h1>Plugins</h1>
	</header>
	
	<section class="slide">
		<h2>Plugin: CSS Snippets</h2>
		<pre>new CSSSnippet(document.getElementById('snippet'));</pre>
		<ul>
			<li>Dynamically edit CSS and reflect the results in any element's style
				<ul>
					<li>Which one? Specify a selector with the <code>data-subject</code> attribute or leave blank for the slide to be the subject</li>
				</ul>
			<li>Automatically prefixes CSS3 properties/values, when needed
				<ul>
					<li>Also does it with the style attribute (statically) if the element is not a text field (doesn't work in IE and Firefox 3.6)</li>
				</ul>
			</li>
			<li>Textarea automatically adjusts rows/font-size on line break (use class <code>dont-adjust</code> to turn off)</li>
		</ul>
	</section>
	
	<section class="slide">
		<h2>CSS Snippets demo</h2>
		<p>Edit the following CSS code:</p>
		<textarea class="snippet">background-color:red;
background-image: linear-gradient(red, #600)</textarea>
	</section>
	
	<section class="slide" id="animation-demo">
		<h2>CSS Snippets: raw CSS</h2>
		<textarea class="snippet" data-raw>@keyframes rainbow {
	from, to { background: red }
	16% { background: yellow }
	33% { background: green }
	50% { background: aqua }
	66% { background: blue }
	83% { background: fuchsia }
}

#animation-demo { animation: 30s rainbow infinite; }</textarea>
	</section>
	
	<section class="slide">
		<h2>Plugin: CSS Controls</h2>
		<ul>
			<li>Use sliders and other controls to adjust CSS values
				<ul>
					<li>Which one? Specify a selector with the <code>data-subject</code> attribute or leave blank for the slide to be the subject</li>
					<li>Specify style with <code>data-style</code> (use <code>{value}</code> where the result will be)</li>
				</ul>
			<li>Automatically prefixes CSS3 properties/values, when needed</li>
		</ul>
	</section>
	
	<section class="slide" id="css-controls-demo">
		<h2>CSS Controls demo</h2>
		<label>Slide lightness: 
			<input type="range" min="0" max="255" value="128" data-style="background-color:rgb({value}, {value}, {value});" class="css-control" />
		</label>
		<label>
			border-width:
			<input type="number" min="0" max="60" value="30" data-style="border-width: {value}px;" class="css-control" size="5" />
		</label>
		<label>
			font-family:
			<select data-style="font-family: {value};" class="css-control">
				<option selected>sans-serif</option>
				<option>Georgia, serif</option>
				<option>Consolas, monospace</option>
				<option>'Trebuchet MS', sans-serif</option>
			</select>
		</label>
	</section>
	
	<section class="slide">
		<h2>Plugin: Code highlight</h2>
		<ul>
			<li>Syntax highlighting for every <code>&lt;code&gt;</code> element with a <code>lang</code> attribute.</li>
			<li>Only highlights when the slide becomes active, for performance</li>
			<li>Currently only supports JavaScript, but it's easy to add any language</li>
			<li>Styling done through easy to understand classes like <code>.string</code> or <code>.comment</code></li>
		</ul>
	</section>
	
	<section class="slide">
		<h2>Code highlight example</h2>
		<pre><code lang="javascript">// Comment
document.addEventListener('DOMAttrModified',function(e) {
  var node = e.target, attr = e.attrName;
  if(/^input$/i.test(node.nodeName) 
    &amp;&amp; (attr === 'placeholder' || attr === 'value')
    || foo > 5)
      Placeholder.update(node);
}, false);</code></pre>
	</section>
</section>
<footer class="slide" title="The End">
	<h2>Thank you!</h2>
	<p>Get it or contribute at <a href="http://github.com/LeaVerou/CSSS">http://github.com/LeaVerou/CSSS</a></p>
	<p>Credits:</p>
	<ul>
		<li><a href="http://lukeroberts.us/2008/12/wallpaper-colourful-wood/">Colored wood background by Luke Roberts</a></li>
		<li>The name CSSS is actually inspired by S5, as you could probably guess ;-)</li>
		<li>A big thanks to the community at Github for various contributions to this project</li>
	</ul>
</footer>

<script src="slideshow.js"></script>
<script src="plugins/css-edit.js"></script>
<script src="plugins/css-snippets.js"></script>
<script src="plugins/css-controls.js"></script>
<script src="plugins/code-highlight.js"></script>
<script>
var slideshow = new SlideShow();

var snippets = document.querySelectorAll('.snippet');
for(var i=0; i<snippets.length; i++) {
	new CSSSnippet(snippets[i]);
}

var cssControls = document.querySelectorAll('.css-control');
for(var i=0; i<cssControls.length; i++) {
	new CSSControl(cssControls[i]);
}
</script>
	
</body>
</html>